<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>Aula 4 ‚Äì p5.js: formas, anima√ß√µes e intera√ß√µes</title>
  <!-- Carrega a biblioteca p5.js (CDN) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  <style>
    /* Estilos s√≥ para a p√°gina (fora do canvas) */
    body { margin: 0; font-family: system-ui, Arial, sans-serif; background: #0f172a; color: #e5e7eb; }
    .ui {
      position: fixed; inset: 0 auto auto 0; padding: 12px 16px; background: rgba(0,0,0,.35);
      border-bottom-right-radius: 12px; font-size: 14px; line-height: 1.3;
      backdrop-filter: blur(4px);
    }
    .ui code { background: rgba(255,255,255,.12); padding: 2px 6px; border-radius: 6px; }
  </style>
</head>
<body>
  <!-- Painel de ajuda para a aula -->
  <div class="ui">
    <div><strong>Controles</strong></div>
    <div>üñ±Ô∏è Cor = posi√ß√£o do mouse (<code>mouseX</code>, <code>mouseY</code>)</div>
    <div>‚¨ÜÔ∏è/‚¨áÔ∏è Tamanho do c√≠rculo</div>
    <div>‚¨ÖÔ∏è/‚û°Ô∏è Velocidade de pulso</div>
  </div>

  <script>
    // ==========================
    // VARI√ÅVEIS DE ESTADO
    // ==========================
    let baseSize = 80;        // tamanho base do c√≠rculo (pode ser ajustado via teclado)
    let pulse = 0;            // acumulador para animar um "pulso" no tamanho
    let pulseSpeed = 0.05;    // velocidade do pulso (ajustada com setas esquerda/direita)

    // --------------------------
    // setup(): roda 1x no in√≠cio
    // --------------------------
    function setup() {
      // Cria uma "tela" (canvas) 640x480. width e height ficam dispon√≠veis globalmente.
      createCanvas(640, 480);

      // Modo de desenho: centralizar formas a partir do centro (facilita posicionar o c√≠rculo)
      ellipseMode(CENTER);

      // Desenha borda suave (antialiasing) ‚Äì padr√£o j√° √© true, mas mantemos por clareza
      smooth();
    }

    // --------------------------
    // draw(): roda em loop (~60 FPS)
    // Tudo que est√° aqui √© redesenhado continuamente.
    // --------------------------
    function draw() {
      // Fundo da tela: um cinza claro para destacar as cores do c√≠rculo
      background(240);

      // ==========================
      // 1) COR SENS√çVEL AO MOUSE
      // ==========================
      // map(valor, minOrigem, maxOrigem, minDestino, maxDestino)
      // Traduz a posi√ß√£o do mouse (0..width/height) para 0..255 (intervalo de cor RGB).
      const r = map(mouseX, 0, width,  50, 255);  // mais vermelho ao mover para a direita
      const g = map(mouseY, 0, height, 50, 255);  // mais verde ao mover para baixo
      const b = 200;                               // azul fixo para manter paleta agrad√°vel

      noStroke();       // sem borda
      fill(r, g, b);    // cor de preenchimento do c√≠rculo

      // ==========================
      // 2) ANIMA√á√ÉO DE PULSO
      // ==========================
      // Usamos seno para um efeito de pulsa√ß√£o no tamanho (oscilando suavemente).
      pulse += pulseSpeed;                       // acumula no tempo (controla fase da anima√ß√£o)
      const pulseOffset = sin(pulse) * 20;       // varia√ß√£o (entre -20 e +20 px)
      const size = constrain(baseSize + pulseOffset, 20, 300);
      // constrain(valor, min, max) limita o resultado para evitar valores absurdos.

      // ==========================
      // 3) DESENHO (FORMA B√ÅSICA)
      // ==========================
      // Desenha um c√≠rculo central com o tamanho final (base + pulso)
      ellipse(width / 2, height / 2, size, size);

      // (Opcional) T√≠tulo e dicas dentro do pr√≥prio canvas
      drawHUD(size, r, g, b);
    }

    // --------------------------------------------
    // keyPressed(): chamado quando uma tecla √© pressionada
    // --------------------------------------------
    function keyPressed() {
      // Aumenta/diminui tamanho base com setas ‚Üë e ‚Üì
      if (keyCode === UP_ARROW) {
        baseSize += 10;
      } else if (keyCode === DOWN_ARROW) {
        baseSize -= 10;
      }

      // Aumenta/diminui velocidade do pulso com setas ‚Üê e ‚Üí
      if (keyCode === LEFT_ARROW) {
        pulseSpeed -= 0.01;
      } else if (keyCode === RIGHT_ARROW) {
        pulseSpeed += 0.01;
      }

      // Mant√©m valores em faixas seguras
      baseSize = constrain(baseSize, 20, 300);
      pulseSpeed = constrain(pulseSpeed, -0.25, 0.5); // permite pulso "reverso" e bem acelerado
    }

    // ------------------------------------------------
    // Fun√ß√£o auxiliar para desenhar um HUD informativo
    // ------------------------------------------------
    function drawHUD(size, r, g, b) {
      push();                 // salva estilos atuais
      noStroke();
      fill(0, 0, 0, 120);     // ret√¢ngulo semi-transparente no canto
      rect(12, 12, 230, 84, 10);

      fill(255);
      textSize(12);
      textLeading(16);
      text(
        `size: ${size.toFixed(0)} px
RGB: ${r.toFixed(0)}, ${g.toFixed(0)}, ${b}
mouse: ${mouseX}, ${mouseY}`,
        24, 30
      );
      pop();                  // restaura estilos
    }
  </script>
</body>
</html>

#Programa√ß√£o visual com p5.js (formas, anima√ß√£o e intera√ß√µes sensoriais)
O sketch em p5.js cria um c√≠rculo pulsante cujo tamanho oscila com sin() e cuja cor responde √† posi√ß√£o do mouse via map() (r = mouseX, g = mouseY, b fixo). As setas ‚Üë/‚Üì alteram o tamanho base e ‚Üê/‚Üí ajustam a velocidade do pulso (fun√ß√£o keyPressed()), enquanto o loop draw() redesenha a cena a ~60 FPS. Um pequeno HUD dentro do canvas exibe valores de size, RGB e coordenadas do mouse, refor√ßando a rela√ß√£o vari√°veis ‚Üí efeito visual. O c√≥digo evidencia a estrutura t√≠pica p5.js (setup() + draw()), uso de constrain() para manter limites seguros e coment√°rios linha a linha para fins did√°ticos.

Prot√≥tipo responsivo e acess√≠vel (HTML + CSS + JS em arquivo √∫nico)
